前処理

```
$ cat test-big.html | rm-html-comment-bash | tr -d \\n | sed -r 's/> +</></g' | sed -r 's/>\t+</></g' | sed -r 's/\t//g' | sed -r 's/^\s+//' | awk 4|tidy -i - 2>/dev/null | ruby -nle 'puts $_.gsub(/[^\u{0000}-\u{007F}]/){|e|numchar=e.ord;"#{"&#"+numchar.to_s+";"}"}' >test-big-tidy.html
```

XPATH一覧取得

```
$ xpath-gen-python test-big-tidy.html >test-big-tidy-xpath-list.txt
```

部分適用DOM分解

```
$ mkdir -p test-big-tidy

$ cat -n test-big-tidy-xpath-list.txt | while read num xpath;do cat test-big-tidy.html | xmllint --html --xpath $xpath - 2>/dev/null | tidy -i - 2>/dev/null >test-big-tidy/test-big-tidy-$(printf "%05d" $num)-partial-dom.html;done
```
